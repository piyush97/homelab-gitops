# Ansible Inventory for Homelab GitOps
# Generated from Terraform container definitions

all:
  children:
    media:
      hosts:
        plex:
          ansible_host: 192.168.0.207
          vmid: 120
          memory: 4096
          cores: 2
          privileged: true
          features:
            - gpu_passthrough
            - hardware_transcoding
        qbittorrent:
          ansible_host: 192.168.0.132
          vmid: 107
          memory: 2048
          cores: 2
          networks:
            primary: 192.168.0.132
            vpn: 10.10.10.2
        prowlarr:
          ansible_host: 192.168.0.119
          vmid: 108
          memory: 1024
          cores: 2
          networks:
            primary: 192.168.0.119
            vpn: 10.10.10.3
        sonarr:
          ansible_host: 192.168.0.203
          vmid: 112
          memory: 512
          cores: 2
        radarr:
          ansible_host: 192.168.0.165
          vmid: 113
          memory: 512
          cores: 2
        lidarr:
          ansible_host: 192.168.0.177
          vmid: 121
          memory: 512
          cores: 2
        overseerr:
          ansible_host: 192.168.0.120
          vmid: 114
          memory: 1024
          cores: 2
        flaresolverr:
          ansible_host: 192.168.0.138
          vmid: 115
          memory: 512
          cores: 2
        autobrr:
          ansible_host: 192.168.0.107
          vmid: 118
          memory: 1024
          cores: 2

    monitoring:
      hosts:
        grafana:
          ansible_host: 192.168.0.243
          vmid: 110
          memory: 1024
          cores: 1
          services:
            - grafana-server
        prometheus:
          ansible_host: dhcp
          vmid: 109
          memory: 256
          cores: 1
          template: alpine
          services:
            - prometheus
        prometheus-pve-exporter:
          ansible_host: dhcp
          vmid: 106
          memory: 512
          cores: 1
          services:
            - prometheus-pve-exporter
        uptimekuma:
          ansible_host: 192.168.0.181
          vmid: 123
          memory: 512
          cores: 1
          services:
            - uptime-kuma
        glance:
          ansible_host: 192.168.0.44
          vmid: 119
          memory: 512
          cores: 1
          services:
            - glance
        loki:
          ansible_host: 192.168.0.200
          vmid: 130
          memory: 2048
          cores: 2
          services:
            - loki
          ports:
            - 3100
            - 9095
        alertmanager:
          ansible_host: 192.168.0.201
          vmid: 131
          memory: 512
          cores: 1
          services:
            - alertmanager
          ports:
            - 9093
            - 9094
        blackbox-exporter:
          ansible_host: 192.168.0.202
          vmid: 132
          memory: 256
          cores: 1
          template: alpine
          services:
            - blackbox_exporter
          ports:
            - 9115
        promtail:
          ansible_host: 192.168.0.204
          vmid: 133
          memory: 512
          cores: 1
          template: alpine
          services:
            - promtail

    security:
      hosts:
        swag:
          ansible_host: 192.168.0.3
          vmid: 100
          memory: 1024
          cores: 2
          services:
            - nginx
            - letsencrypt
          ports:
            - 80
            - 443
        wireguard:
          ansible_host: 192.168.0.219
          vmid: 116
          memory: 2048
          cores: 2
          networks:
            primary: 192.168.0.219
            vpn: 10.10.10.1
          services:
            - wireguard
          ports:
            - "51820/udp"
        vaultwarden:
          ansible_host: 192.168.0.248
          vmid: 104
          memory: 2048
          cores: 2
          template: alpine
          services:
            - vaultwarden
          ports:
            - 8080
        rustdeskserver:
          ansible_host: 192.168.0.140
          vmid: 103
          memory: 512
          cores: 1
          services:
            - rustdesk-server

    business:
      hosts:
        immich:
          ansible_host: 192.168.0.15
          vmid: 105
          memory: 4096
          cores: 4
          privileged: true
          template: ubuntu
          features:
            - gpu_passthrough
            - hardware_transcoding
          services:
            - immich-server
            - immich-machine-learning
            - immich-microservices
          ports:
            - 2283
        immich-backup:
          ansible_host: 192.168.0.10
          vmid: 117
          memory: 9216
          cores: 4
          privileged: true
          onboot: false
          services:
            - immich-server
        fileserver:
          ansible_host: 192.168.0.5
          vmid: 102
          memory: 2048
          cores: 2
          services:
            - cockpit
            - samba
          ports:
            - 9090
            - 445
            - 139
            - 138
            - 137
        drive:
          ansible_host: 192.168.0.126
          vmid: 101
          memory: 512
          cores: 1
          template: alpine
          services:
            - google-drive-sync
        docker:
          ansible_host: 192.168.0.153
          vmid: 111
          memory: 2048
          cores: 2
          services:
            - docker
            - docker-compose
        odoo:
          ansible_host: 192.168.0.159
          vmid: 125
          memory: 2048
          cores: 2
          services:
            - odoo
          ports:
            - 8069
        paperless-ngx:
          ansible_host: 192.168.0.149
          vmid: 128
          memory: 2048
          cores: 2
          services:
            - paperless-ngx
        ntfy:
          ansible_host: 192.168.0.124
          vmid: 124
          memory: 256
          cores: 1
          template: ubuntu
          services:
            - ntfy

  vars:
    ansible_user: root
    ansible_ssh_common_args: '-o StrictHostKeyChecking=no'
    ansible_python_interpreter: auto_silent
    
    # Common paths
    data_mount: /data
    docker_mount: /docker
    
    # Storage configuration
    shared_data_storage: data
    docker_storage: vault
    
    # Network configuration
    primary_network: 192.168.0.0/24
    primary_gateway: 192.168.0.1
    vpn_network: 10.10.10.0/24
    vpn_gateway: 10.10.10.1
    
    # Common mount sizes
    data_mount_size: 10T
    docker_mount_size: 128G